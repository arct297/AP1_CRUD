<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clinic Management System</title>

    <style>
        /* General Styles */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Roboto', sans-serif;
            background-color: #1e1e1e;
            color: #f5f5f5;
            line-height: 1.6;
            overflow-x: hidden;
        }

        h1, h2, h3 {
            color: #5b4f4f;
        }

        /* Header */
        header {
            background-color: #212121;
            color: #f5f5f5;
            padding: 20px 40px;
            border-bottom: 2px solid #444;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 1.5rem;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
        }

        header .logo h1 {
            font-size: 2rem;
            font-weight: bold;
        }

        header .navigation a {
            color: #f5f5f5;
            text-decoration: none;
            padding: 0 20px;
            transition: color 0.3s ease;
        }

        header .navigation a:hover {
            color:#444;
        }

        /* Hero Section */
        .hero {
            background: url('https://source.unsplash.com/1600x900/?healthcare') no-repeat center center/cover;
            height: 500px;
            display: flex;
            justify-content: center;
            align-items: center;
            text-align: center;
            color: white;
            padding: 40px;
            box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.4);
        }

        .hero .hero-content h2 {
            font-size: 3.5rem;
            font-weight: 700;
            margin-bottom: 20px;
        }

        .hero .hero-content p {
            font-size: 1.5rem;
            margin-bottom: 30px;
        }

        .hero .btn-primary {
            background-color: #444;
            color: white;
            padding: 15px 30px;
            border-radius: 5px;
            text-decoration: none;
            font-size: 1.1rem;
            transition: background-color 0.3s ease;
        }

        .hero .btn-primary:hover {
            background-color: #000000;
        }

        /* About Us Section */
        .about-us {
            padding: 50px 20px;
            background-color: #fff;
            text-align: center;
            color: #212121;
        }

        .about-us h3 {
            font-size: 2.5rem;
            margin-bottom: 30px;
        }

        .about-us .about-content {
            max-width: 1200px;
            margin: 0 auto;
            text-align: left;
        }

        .about-us .about-images img {
            width: 45%;
            margin: 10px;
            border-radius: 8px;
        }

        /* Services Section */
        .services {
            padding: 50px 20px;
            background-color: #f9f9f9;
            text-align: center;
            color: #000000;
        }

        .services h3 {
            font-size: 2.5rem;
            margin-bottom: 40px;
        }

        .service-cards {
            display: flex;
            justify-content: space-between;
            gap: 30px;
        }

        .service-card {
            background-color: #fff;
            padding: 30px;
            width: 30%;
            border-radius: 8px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .service-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15);
        }

        .service-card h4 {
            font-size: 1.7rem;
            margin-bottom: 15px;
        }

        .service-card p {
            font-size: 1.1rem;
        }

        /* Doctors Section */
        .doctors-list {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 30px;
        }

        .doctor-card {
            width: 250px;
            background-color: #333;
            border-radius: 12px;
            overflow: hidden;
            text-align: center;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            cursor: pointer;
        }

        .doctor-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
        }

        .doctor-card img {
            width: 200px;
            height: 200px;
            margin: 10%;
            object-fit: cover;
            border-radius: 50%;
            margin-bottom: 20px;
        }

        .doctor-card .name {
            font-size: 1.3rem;
            font-weight: 600;
            color: #575f5d;
            margin-bottom: 5px;
        }

        .doctor-card .experience {
            font-size: 1.1rem;
            color: #ccc;
            margin-bottom: 10px;
        }

        .doctor-card .doctor-description {
            font-size: 0.95rem;
            color: #aaa;
        }

        /* Pagination */
        .pagination {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
        }

        .pagination button {
            background-color: #444;
            color: white;
            border: 1px solid #50e3c2;
            padding: 12px 24px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.3s ease;
        }

        .pagination button:hover {
            background-color: #000000;
            transform: translateY(-3px);
        }

        .pagination button:disabled {
            background-color: #666;
            cursor: not-allowed;
        }

        /* Footer */
        footer {
            background-color: #212121;
            padding: 20px;
            color: #f5f5f5;
            position: fixed;
            width: 100%;
            bottom: 0;
            text-align: center;
        }

        footer p {
            font-size: 1rem;
        }

        /* Mobile responsiveness */
        @media (max-width: 768px) {
            .service-cards, .specialist-cards {
                flex-direction: column;
            }

            .service-card, .specialist-card {
                width: 100%;
            }

            .about-images img {
                width: 100%;
                margin: 10px 0;
            }
        }

    </style>    
</head>
<body>

    <div class="container">
        <header>
            <div class="logo">
                <h1><span class="text-primary">K&A</span> Clinic</h1>
            </div>
            <nav class="navigation">
                <a href="#">Home</a>
                <a href="http://localhost:8080/login">Log In</a>
            </nav>
        </header>

        <section class="hero">
            <div class="hero-content">
                <h2>Welcome to K&A Clinic</h2>
                <p>Where your health is our priority. Expert care for you and your loved ones.</p>
                <a href="#services" class="btn-primary">Explore Our Services</a>
            </div>
        </section>

        <section class="about-us">
            <h3>About Our Clinic</h3>
            <div class="about-content">
                <p>At K&A Clinic, we offer state-of-the-art medical care with a focus on patient comfort and well-being. Our team of experienced doctors and specialists is committed to providing the highest quality of care in a warm and welcoming environment.</p>
                <div class="about-images">
                    <img src="https://source.unsplash.com/600x400/?hospital" alt="Clinic Image 1">
                    <img src="https://source.unsplash.com/600x400/?doctor" alt="Clinic Image 2">
                </div>
            </div>
        </section>

        <section id="services" class="services">
            <h3>Our Services</h3>
            <div class="service-cards" >
                <div class="service-card">
                    <h4>General Check-up</h4>
                    <p>Comprehensive health check-ups for individuals of all ages. Early diagnosis saves lives.</p>
                </div>
                <div class="service-card">
                    <h4>Specialized Care</h4>
                    <p>Expert care in cardiology, dermatology, orthopedics, and more from our top specialists.</p>
                </div>
                <div class="service-card">
                    <h4>Emergency Care</h4>
                    <p>24/7 emergency services to provide immediate assistance in critical situations.</p>
                </div>
            </div>

            <div class="specialists text-center">
                <h3>Our Specialists</h3>
                <div class="filters">
                    <label for="filter">Filter By:</label>
                    <select id="filter">
                        <option value="specialization">Specialization</option>
                        <option value="experience_years">Experience Years</option>
                        <option value="gender">Gender</option>
                        <option value="birthdate">Birthdate</option>
                    </select>
                
                    <label for="filter_value">Filter Value:</label>
                    <input type="text" id="filter_value" placeholder="Enter filter value">
                
                    <button onclick="applyFilters()">Apply Filters</button>
                </div>
                
                <div>
                    <label for="sorting" >Sort By:</label>
                    <select id="sorting" style="margin-bottom: 20px;" onchange="sortDoctors()">
                        <option value="name-asc" selected>Name (A-Z)</option>
                        <option value="name-desc">Name (Z-A)</option>
                        <option value="surname-asc" >Surname (A-Z)</option>
                        <option value="surname-desc">Surname (Z-A)</option>
                        <option value="experience-asc">Experience (Low to High)</option>
                        <option value="experience-desc">Experience (High to Low)</option>
                    </select>
                </div>
    
                <div class="doctors-list" id="doctors-list">
                    <!-- Doctor cards will be inserted here dynamically -->
                </div>

                <div class="pagination" style="margin-bottom: 30px;">
                    <button id="firstPageBtn" onclick="goToPage(1)">First</button>
                    <button id="prevPageBtn" onclick="goToPage(currentPage - 1)">Prev</button>
                    <span>Page <span id="currentPage">1</span> of <span id="totalPages">1</span></span>
                    <button id="nextPageBtn" onclick="goToPage(currentPage + 1)">Next</button>
                    <button id="lastPageBtn" onclick="goToPage(totalPages)">Last</button>

                </div>
    
                
            </div>
    
        </section>
        
        <footer class="text-center py-3">
            <p>&copy; 2024 Clinic Management System</p>
        </footer>

    </div>

</body>
</html>

<script>
let currentPage =1;
let totalPages = 10;
let doctorsPerPage = 3;
let sortField = "first_name"; 
let sortOrder = "asc"; 
let filterField = ""; 
let filterValue = ""; 
document.querySelector("button").addEventListener("click", applyFilters);

    function loadDoctors() {
        const sortingSelect = document.getElementById("sorting");
        const sortValue = sortingSelect.value;
        
        const sortMapping = {
            "name-asc": { field: "first_name", order: "asc" },
            "name-desc": { field: "first_name", order: "desc" },
            "surname-asc": { field: "last_name", order: "asc" },
            "surname-desc": { field: "last_name", order: "desc" },
            "experience-asc": { field: "experience_years", order: "asc" },
            "experience-desc": { field: "experience_years", order: "desc" },
        };
        
        const { field, order } = sortMapping[sortValue] || { field: "first_name", order: "asc" };
        
        const url = new URL("http://localhost:8080/doctors");
        const params = {
            sort: field,
            order: order,
            limit: doctorsPerPage,
            offset: (currentPage - 1) * doctorsPerPage,
            page: currentPage
        };
        if (filterField && filterValue) {
        params.filter = filterField;
        params.filter_value = filterValue;
    }
        
        Object.keys(params).forEach(key => url.searchParams.append(key, params[key]));
        
        fetch(url)
            .then(response => response.json())
            .then(data => {
            const doctors = data.content;
    
             // Set total pages from the response
            renderDoctors(doctors);
            updatePagination(); // Update pagination based on the new totalPages value
        
            })
            .catch(error => console.error("Error loading doctors:", error));
    }


function renderDoctors(doctors) {
    const doctorsContainer = document.getElementById('doctors-list');
    doctorsContainer.innerHTML = ''; 
    
    doctors.forEach(doctor => {
        const doctorCard = `
            <div class="doctor-card">
                <img src="${  doctor.image }" alt="Doctor Image">
                <div class="name">${doctor.first_name} ${doctor.last_name}</div>
                <div class="experience">${doctor.experience_years} years</div>
                <div class="specialization">${doctor.specialization}</div>
                <div class="emaail">${doctor.email}</div>
                <div class="phone">${doctor.phone_number}</div>
            </div>
        `;
        doctorsContainer.innerHTML += doctorCard;
    });
}

// function to update pagination
function updatePagination() {
    document.getElementById('currentPage').innerText = currentPage;
    document.getElementById('totalPages').innerText = totalPages;

    // enable/disable pagination buttons based on the current page
    document.getElementById('firstPageBtn').disabled = currentPage === 1;
    document.getElementById('prevPageBtn').disabled = currentPage === 1;
    document.getElementById('nextPageBtn').disabled = currentPage === totalPages;
    document.getElementById('lastPageBtn').disabled = currentPage === totalPages;
}

// function to handle page navigation
function goToPage(pageNumber) {
    if (pageNumber < 1 || pageNumber > totalPages) return;
    currentPage = pageNumber;
    loadDoctors();
}

// initialize the page
function sortDoctors() {
    currentPage = 1; // reset to first page when sorting changes
    loadDoctors();
}
function applyFilters() {
    const filterSelect = document.getElementById('filter');
    filterField = filterSelect.value;
    filterValue = document.getElementById('filter_value').value;
    currentPage = 1; // Reset to the first page when filters are applied
    loadDoctors();
}

// Initialize the page
document.addEventListener("DOMContentLoaded", () => {
    loadDoctors(); // Load the doctors on page load

    // Add event listener to the apply filters button
    document.querySelector("button").addEventListener("click", applyFilters);
});



</script>
